# Claude Code 协作规则

## 代码审查原则
1. **安全性优先**: 检查 XSS、SQL注入、CSRF等安全漏洞
2. **性能意识**: 关注 bundle 大小、渲染性能和内存使用
3. **类型安全**: 确保 TypeScript 类型正确性
4. **用户体验**: 考虑加载状态、错误处理和响应式设计

## 编辑器功能指导
### TipTap 扩展开发
- 扩展应该符合 TipTap 的 Node 和 Mark 规范
- 优先使用官方扩展，必要时开发自定义扩展
- 确保扩展的 undo/redo 功能正常工作

### 富文本功能
- 实现基础的文本格式化（粗体、斜体、下划线）
- 支持标题层级 (H1-H6)
- 实现列表功能（有序、无序、任务列表）
- 支持链接、图片和表格
- 考虑实现块引用和代码块

## UI/UX 设计原则
1. **Notion 风格**: 遵循 Notion 的简洁、现代设计语言
2. **响应式设计**: 移动端优先，适配各种屏幕尺寸
3. **交互反馈**: 提供即时的视觉和交互反馈
4. **键盘快捷键**: 支持常用编辑器快捷键

## 现代化最佳实践
1. **函数式组件**: 使用 React 函数组件和 Hooks
2. **TypeScript**: 严格的类型检查和类型推断
3. **ES2022+**: 使用现代 JavaScript 特性
4. **CSS-in-JS**: 优先使用 Tailwind CSS 类名

## 项目特定规则
### Next.js 配置
- 使用 App Router (如果适用)
- 正确配置静态资源优化
- 实现合适的缓存策略

### 样式管理
- 遵循 Tailwind CSS 约定
- 使用组件变体系统
- 保持样式的一致性和可维护性

### 错误处理
- 实现全局错误边界
- 提供用户友好的错误信息
- 记录错误日志用于调试

## 协作建议
1. **渐进式开发**: 先实现核心功能，再逐步添加高级特性
2. **测试驱动**: 为新功能编写测试用例
3. **文档维护**: 更新 README 和代码注释
4. **性能监控**: 关注 Core Web Vitals 和用户体验指标